(()=>{"use strict";let e=document.querySelectorAll(".btn"),t=document.querySelector(".calculator-screen"),n=document.querySelector(".btn-danger"),a="",l="",c="",o=!1;function r(e,t,n){switch(n){case"+":return parseFloat(e)+parseFloat(t);case"-":return parseFloat(e)-parseFloat(t);case"*":return parseFloat(e)*parseFloat(t);case"/":return parseFloat(e)/parseFloat(t);default:return 0}}function u(e){l="";const n=t.value.toString().length;"-"===e&&(0===n||1===n&&o)?v(e):(a=t.value.toString(),c=e,o=!0)}function s(){0===t.value.toString().length?(a="",c=""):n.textContent="CE",l="",t.value=""}function i(){let e;""!==l?e=r(a,l.toString(),c):(e=r(a,t.value.toString(),c),l=t.value),a=e,t.value=e.toString().length>11?e.toExponential(6):e}function v(e){o&&(t.value="",o=!1);const a=t.value.toString();0===a.length&&(n.textContent="C"),"0"===a&&"0"===e||(!isNaN(e)||"-"===e||"."===e&&!a.includes("."))&&a.length<=10&&(t.value=t.value+e)}e.forEach((e=>{if(e.className.includes("operator"))e.onclick=()=>u(e.value);else switch(e.value){case"clear":e.onclick=()=>s();break;case"=":e.onclick=()=>i();break;default:e.onclick=()=>v(e.value)}})),document.addEventListener("keypress",(e=>{["1","2","3","4","5","6","7","8","9","0","."].includes(e.key)?v(e.key):["+","-","*","/"].includes(e.key)?u(e.key):["c","C","Escape"].includes(e.key)?s():"Backspace"===e.key?function(){const e=t.value.toString().length-1;t.value=t.value.toString().substr(0,e)}():"Enter"===e.key&&i(),console.log(e.key)}))})();