(()=>{"use strict";let e,t=document.querySelectorAll(".btn"),a=document.querySelector(".calculator-screen"),n=document.querySelector(".btn-danger"),l="",c="",u=!1,s=!1,r=!0;function o(e){r&&"-"===e?v(e):c&&"-"!==c&&(u||d(),l=e,r=!0,s=!0)}function i(){0===a.value.toString().length?(e=void 0,l="",n.classList.add("disabled")):n.textContent="CE",a.value="",c="",r=!0}function d(){a.value&&!r&&(e=void 0===e||""===l?parseFloat(a.value):function(){switch(l){case"+":return e+parseFloat(c);case"-":return e-parseFloat(c);case"*":return e*parseFloat(c);case"/":return e/parseFloat(c);default:return 0}}(),s=!0,a.value=e.toString().length>11?e.toExponential(6):e,u=!0)}function v(e){u=!1,r=!1,s&&(a.value="",s=!1);const t=a.value.toString();0===t.length&&(n.textContent="C",n.classList.remove("disabled")),("0"!==e||"0"!==t&&"-0"!==t)&&(!isNaN(e)||"-"===e||"."===e&&!t.includes("."))&&t.length<=10&&(a.value=a.value+e,c=a.value)}t.forEach((e=>{if(e.className.includes("operator"))e.onclick=()=>o(e.value);else switch(e.value){case"clear":e.onclick=()=>i();break;case"=":e.onclick=()=>d();break;default:e.onclick=()=>v(e.value)}})),document.addEventListener("keypress",(e=>{["1","2","3","4","5","6","7","8","9","0","."].includes(e.key)?v(e.key):["+","-","*","/"].includes(e.key)?o(e.key):["c","C","Escape"].includes(e.key)?i():"Backspace"===e.key?function(){if(!u){const e=a.value.toString().length-1;a.value=a.value.toString().substr(0,e),c=a.value}}():"Enter"===e.key&&d()}))})();